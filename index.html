<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ëŸ¬ì…€ ì´ë™ì¼ì§€ ì‘ì„±</title>

<style>
body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
h1 { color: #336699; font-size: 24px; }

form {
display: inline-block;
text-align: left;
border: 1px solid #ccc;
padding: 20px;
width: 100%;
max-width: 500px;
box-sizing: border-box;
background-color: #f9f9f9;
border-radius: 8px;
}

label { display: block; margin-bottom: 8px; font-weight: bold; }

select, textarea {
width: 100%;
padding: 12px;
margin-bottom: 15px;
box-sizing: border-box;
font-size: 16px;
border-radius: 4px;
border: 1px solid #ccc;
}

button {
padding: 10px 20px;
background-color: #336699;
color: #fff;
border: none;
cursor: pointer;
width: 100%;
max-width: 120px;
border-radius: 4px;
}

button:hover { background-color: #28597b; }

#resetButton {
margin: 10px 0;
float: left;
width: auto;
padding: 8px 16px;
background-color: #ccc;
cursor: pointer;
}

table {
margin: 20px auto;
border-collapse: collapse;
width: 100%;
max-width: 700px;
border-radius: 8px;
overflow: hidden;
}

th, td {
border: 1px solid #ccc;
padding: 12px;
text-align: center;
}

thead { background-color: #f2f2f2; font-weight: bold; }
tbody tr:nth-child(even) { background-color: #f9f9f9; }
tbody tr:hover { background-color: #f1f1f1; }

.error {
color: red;
margin-top: 10px;
position: fixed;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
background-color: rgba(255,255,255,0.95);
padding: 20px;
border-radius: 8px;
box-shadow: 0 0 10px rgba(0,0,0,0.2);
font-size: 18px;
display: none;
}

.score { display: none; }

.popup {
display: none;
position: fixed;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 90%;
max-width: 400px;
background: white;
padding: 20px;
border-radius: 8px;
box-shadow: 0 0 15px rgba(0,0,0,0.3);
z-index: 1000;
}

.popup button {
margin-top: 10px;
width: 100%;
}

</style>
</head>

<body>

<h1>ëŸ¬ì…€ ì´ë™ì¼ì§€ & êµìœ¡ì ìˆ˜ ì‘ì„±</h1>
<button id="resetButton" onclick="resetTable()">í…Œì´ë¸” ì´ˆê¸°í™”</button>

<form id="moveForm">

<label>ê´€:</label>
<select id="building" required>
<option value="">ì„ íƒí•˜ì„¸ìš”</option>
<option value="4-1ê´€">4-1ê´€</option>
<option value="4-2ê´€">4-2ê´€</option>
<option value="4-3ê´€">4-3ê´€</option>
<option value="4-4ê´€">4-4ê´€</option>
<option value="4-5ê´€">4-5ê´€</option>
</select>

<label>ì¢Œì„ë²ˆí˜¸:</label>
<select id="seatNumber" required>
<option value="">ì„ íƒí•˜ì„¸ìš”</option>
<option value="A">A</option>
<option value="B">B</option>
<option value="C">C</option>
<option value="D">D</option>
<option value="F">F</option>
<option value="G">G</option>
<option value="H">H</option>
<option value="I">I</option>
</select>

<select id="seatNumber2" required>
<option value="">ì„ íƒí•˜ì„¸ìš”</option>
<option value="01">01</option>
<option value="02">02</option>
<option value="03">03</option>
<option value="04">04</option>
<option value="05">05</option>
<option value="06">06</option>
<option value="07">07</option>
<option value="08">08</option>
<option value="09">09</option>
<option value="10">10</option>
<option value="11">11</option>
</select>

<label>ì´ë™ì‚¬ìœ :</label>
<select id="reason" required>
<option value="">ì„ íƒí•˜ì„¸ìš”</option>

<optgroup label="ì¼ë°˜ ì´ë™">
<option value="í™”ì¥ì‹¤/ì •ìˆ˜ê¸°">í™”ì¥ì‹¤/ì •ìˆ˜ê¸°</option>
<option value="íŠœí„° ì§ˆì˜ì‘ë‹µ">íŠœí„° ì§ˆì˜ì‘ë‹µ</option>
<option value="ì™¸ë¶€ í•™ì›/ê³¼ì™¸/ë³´ì¶©">ì™¸ë¶€ í•™ì›/ê³¼ì™¸/ë³´ì¶©</option>
<option value="ìë£Œìˆ˜ë ¹">ìë£Œìˆ˜ë ¹</option>
<option value="ê°€ì¡± í–‰ì‚¬">ê°€ì¡± í–‰ì‚¬</option>
<option value="ë³‘ì›">ë³‘ì›</option>
<option value="ì‹ì‚¬">ì‹ì‚¬</option>
<option value="ê¸°íƒ€">ê¸°íƒ€</option>
<option value="ì¡°í‡´(ì»¨ë””ì…˜ë‚œì¡°)">ì¡°í‡´(ì»¨ë””ì…˜ë‚œì¡°)</option>
</optgroup>

<!-- ğŸ”’ ì‹¬ì•¼ììŠµ ìˆ¨ê¹€ ì²˜ë¦¬ (ì‚¬ìš© ì‹œ ì£¼ì„ í•´ì œ)
<optgroup label="ì‹¬ì•¼ììŠµ">
<option value="ì‹¬ì•¼ììŠµ ì‹ ì²­">ì‹¬ì•¼ììŠµ ì‹ ì²­</option>
<option value="ì‹¬ì•¼ììŠµ ì·¨ì†Œ">ì‹¬ì•¼ììŠµ ì·¨ì†Œ</option>
</optgroup>
-->

<optgroup label="ê·œì • ìœ„ë°˜/ì§€ë„">
<option value="ì§€ê°">ì§€ê°</option>
<option value="ì…/í‡´ì‹¤ ë¯¸ì¤€ìˆ˜">ì…/í‡´ì‹¤ ë¯¸ì¤€ìˆ˜</option>
<option value="í•¸ë“œí° ë¯¸ì œì¶œ">í•¸ë“œí° ë¯¸ì œì¶œ</option>
<option value="ì „ìê¸°ê¸° ë¬´ë‹¨ì‚¬ìš©">ì „ìê¸°ê¸° ë¬´ë‹¨ì‚¬ìš©</option>
<option value="í•¸ë“œí° ë¬´ë‹¨ì‚¬ìš©">í•¸ë“œí° ë¬´ë‹¨ì‚¬ìš©</option>
<option value="ë¬´ë‹¨ì´íƒˆ">ë¬´ë‹¨ì´íƒˆ</option>
<option value="íƒ€ì¸µ/íƒ€ê´€ ë¬´ë‹¨ì¶œì…">íƒ€ì¸µ/íƒ€ê´€ ë¬´ë‹¨ì¶œì…</option>
<option value="í•¸ë“œí°/Wifi ë¬´ë‹¨ë°˜ì…">í•¸ë“œí°/Wifi ë¬´ë‹¨ë°˜ì…</option>
<option value="ë¬´ë‹¨ê²°ì„">ë¬´ë‹¨ê²°ì„</option>
<option value="ì›ë‚´ëŒ€í™”">ì›ë‚´ëŒ€í™”</option>
<option value="ë¬´ë‹¨ì§€ê°">ë¬´ë‹¨ì§€ê°</option>
<option value="ì·¨ì¹¨ê°•ì œí•˜ì›">ì·¨ì¹¨ê°•ì œí•˜ì›</option>
<option value="ìŒì‹ë¬¼ì„­ì·¨">ìŒì‹ë¬¼ì„­ì·¨</option>
</optgroup>

</select>

<label>ë³µê·€êµì‹œ:</label>
<select id="returnTime" required>
<option value="">ì„ íƒí•˜ì„¸ìš”</option>
<option value="1">1êµì‹œ</option>
<option value="2">2êµì‹œ</option>
<option value="3">3êµì‹œ</option>
<option value="4">4êµì‹œ</option>
<option value="5">5êµì‹œ</option>
<option value="6">6êµì‹œ</option>
<option value="7">7êµì‹œ</option>
<option value="8">8êµì‹œ</option>
<option value="ë³µê·€ì•ˆí•¨">ë³µê·€ì•ˆí•¨</option>
</select>

<button type="submit">ì œì¶œ</button>
</form>

<!-- âœ… ì‹¬ì•¼ììŠµ íŒì—… -->
<div id="nightPopup" class="popup">
<h3>ì‹¬ì•¼ììŠµ ì‹ ì²­ í™•ì¸</h3>
<p>ì •ë§ ì‹ ì²­/ì·¨ì†Œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
<button onclick="confirmNightStudy()">í™•ì¸</button>
<button onclick="closeNightPopup()">ì·¨ì†Œ</button>
</div>

<script>
let moveList = [];
let nightTempData = null;

document.getElementById("reason").addEventListener("change", function() {
if (this.value === "ì‹¬ì•¼ììŠµ ì‹ ì²­" || this.value === "ì‹¬ì•¼ììŠµ ì·¨ì†Œ") {
document.getElementById("nightPopup").style.display = "block";
}
});

function closeNightPopup() {
document.getElementById("nightPopup").style.display = "none";
document.getElementById("reason").value = "";
}

function confirmNightStudy() {
document.getElementById("nightPopup").style.display = "none";
}

document.getElementById("moveForm").addEventListener("submit", function(event) {
event.preventDefault();

const building = document.getElementById("building").value;
const seatNumber =
document.getElementById("seatNumber").value +
document.getElementById("seatNumber2").value;
const returnTime = document.getElementById("returnTime").value;
const reason = document.getElementById("reason").value;

const now = new Date();
const inputDate = now.toISOString().split("T")[0];
const inputTime = now.toTimeString().split(" ")[0];

const moveData = {
building, seatNumber, returnTime, reason, inputDate, inputTime
};

moveList.unshift(moveData);
refreshMoveList();
this.reset();
});

function refreshMoveList() {
const tableBody = document.querySelector("#moveList tbody");
tableBody.innerHTML = "";
moveList.forEach(moveData => {
const row = document.createElement("tr");
row.innerHTML = `
<td>${moveData.building}</td>
<td>${moveData.seatNumber}</td>
<td>${moveData.returnTime}</td>
<td>${moveData.reason}</td>
<td>${moveData.inputDate}</td>
<td>${moveData.inputTime}</td>
<td>-</td>
`;
tableBody.appendChild(row);
});
}

function resetTable() {
moveList = [];
refreshMoveList();
}
</script>

</body>
</html>
